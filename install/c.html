

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>C / C++ &mdash; SCS 3.2.9 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/scs_theme.css?v=7d28eb0c" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=c8866c51"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Python" href="python.html" />
    <link rel="prev" title="Install" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/scs_logo_transparent.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../algorithm/index.html">Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Install</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">C / C++</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cmake">CMake</a></li>
<li class="toctree-l3"><a class="reference internal" href="#makefile">Makefile</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="python.html">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="matlab.html">MATLAB</a></li>
<li class="toctree-l2"><a class="reference internal" href="julia.html">Julia</a></li>
<li class="toctree-l2"><a class="reference internal" href="r.html">R</a></li>
<li class="toctree-l2"><a class="reference internal" href="ruby.html">Ruby</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html">JavaScript / WebAssembly</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../linear_solver/index.html">Linear System Solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blas_lapack/index.html">BLAS and LAPACK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../help/index.html">Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing/index.html">Citing SCS</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SCS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Install</a></li>
      <li class="breadcrumb-item active">C / C++</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/install/c.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="c-c">
<span id="c-install"></span><h1>C / C++<a class="headerlink" href="#c-c" title="Link to this heading"></a></h1>
<p>First clone the SCS repo from GitHub</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/cvxgrp/scs.git
</pre></div>
</div>
<section id="cmake">
<h2>CMake<a class="headerlink" href="#cmake" title="Link to this heading"></a></h2>
<p>Thanks to the <a class="reference external" href="https://cmake.org/cmake/help/latest/">CMake</a> buildsystem SCS
can be easily compiled and linked to other CMake projects. To use the cmake
build system please run the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>scs
mkdir<span class="w"> </span>build
<span class="nb">cd</span><span class="w"> </span>build
cmake<span class="w"> </span>-DCMAKE_INSTALL_PREFIX:PATH<span class="o">=</span>&lt;custom-folder&gt;<span class="w"> </span>../
make
make<span class="w"> </span>install
</pre></div>
</div>
<p>You may also want to compile the tests. In this case when you configure the
project, please call the following command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>-DCMAKE_INSTALL_PREFIX:PATH<span class="o">=</span>&lt;custom-folder&gt;<span class="w"> </span>-DBUILD_TESTING<span class="o">=</span>ON<span class="w"> </span>../
make
ctest
</pre></div>
</div>
<p>Some <a class="reference internal" href="../api/compile_flags.html#compile-flags"><span class="std std-ref">compile flags</span></a> can be overridden using the
command line, for example we can compile the library (and headers) to use 64 bit
integers using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>-DCMAKE_INSTALL_PREFIX:PATH<span class="o">=</span>&lt;custom-folder&gt;<span class="w"> </span>-DDLONG<span class="o">=</span>ON<span class="w"> </span>../
make
</pre></div>
</div>
<p>By default the build-system will compile the library as shared. If you want to
compile it as static, please call the following command when you configure the
project</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>-DCMAKE_INSTALL_PREFIX:PATH<span class="o">=</span>&lt;custom-folder&gt;<span class="w"> </span>-BUILD_SHARED_LIBS<span class="o">=</span>OFF<span class="w"> </span>../
make
</pre></div>
</div>
<p>The CMake build-system exports two CMake targets called <code class="code docutils literal notranslate"><span class="pre">scs::scsdir</span></code> and
<code class="code docutils literal notranslate"><span class="pre">scs::scsindir</span></code> as well as a header file <code class="code docutils literal notranslate"><span class="pre">scs.h</span></code> that defines the
API.</p>
<p>If <a class="reference external" href="https://www.intel.com/content/www/us/en/develop/documentation/get-started-with-mkl-for-dpcpp/top.html">MKL</a>
is installed in your system and the <code class="code docutils literal notranslate"><span class="pre">MKLROOT</span></code> environment variable is
set, then additionally CMake will build and install the <a class="reference internal" href="../linear_solver/index.html#mkl"><span class="std std-ref">MKL Pardiso</span></a> linear solver with target <code class="code docutils literal notranslate"><span class="pre">scs::scsmkl</span></code>.  (Note that the choice of
MKL compiler flags might not be right for your system and may need to be
<a class="reference external" href="https://www.intel.com/content/www/us/en/developer/tools/oneapi/onemkl-link-line-advisor.html">modified</a>).</p>
<p>If you have a GPU and CUDA toolkit installed, along with the
<a class="reference external" href="https://developer.nvidia.com/cudss">cuDSS</a> library, you can compile SCS
with cuDSS support using CMake. First, ensure that the <code class="code docutils literal notranslate"><span class="pre">CUDA_PATH</span></code> and
<code class="code docutils literal notranslate"><span class="pre">CUDSS_PATH</span></code> environment variables are set, then configure with cuDSS enabled:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>-DCMAKE_INSTALL_PREFIX:PATH<span class="o">=</span>&lt;custom-folder&gt;<span class="w"> </span>-DUSE_CUDSS<span class="o">=</span>ON<span class="w"> </span>-DDLONG<span class="o">=</span>OFF<span class="w"> </span>../
make
</pre></div>
</div>
<p>Currently cuDSS only supports 32 bit integers (for sparse matrix idicies) so
<code class="code docutils literal notranslate"><span class="pre">DDLONG=OFF</span></code> is mandatory.
This will build and install the cuDSS linear solver with target <code class="code docutils literal notranslate"><span class="pre">scs::scscudss</span></code>.</p>
<p>The libraries can be imported using the find_package CMake command and used
by calling target_link_libraries as in the following example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake_minimum_required<span class="o">(</span>VERSION<span class="w"> </span><span class="m">3</span>.0<span class="o">)</span>
project<span class="o">(</span>myproject<span class="o">)</span>
find_package<span class="o">(</span>scs<span class="w"> </span>REQUIRED<span class="o">)</span>
add_executable<span class="o">(</span>example<span class="w"> </span>example.cpp<span class="o">)</span>

<span class="c1"># To use the direct method</span>
target_link_libraries<span class="o">(</span>example<span class="w"> </span>scs::scsdir<span class="o">)</span>

<span class="c1"># To use the indirect method</span>
target_link_libraries<span class="o">(</span>example<span class="w"> </span>scs::scsindir<span class="o">)</span>

<span class="c1"># To use the MKL Pardiso direct method</span>
target_link_libraries<span class="o">(</span>example<span class="w"> </span>scs::scsmkl<span class="o">)</span>

<span class="c1"># To use the cuDSS direct method</span>
target_link_libraries<span class="o">(</span>example<span class="w"> </span>scs::scscudss<span class="o">)</span>
</pre></div>
</div>
</section>
<section id="makefile">
<h2>Makefile<a class="headerlink" href="#makefile" title="Link to this heading"></a></h2>
<p>Alternatively you can use the Makefile and manage the libraries and header
files yourself.  The public header files are <code class="code docutils literal notranslate"><span class="pre">scs.h</span></code> and
<code class="code docutils literal notranslate"><span class="pre">scs_types.h</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>scs
make
</pre></div>
</div>
<p>To compile and run the tests execute</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span><span class="nb">test</span>
out/run_tests_direct
out/run_tests_indirect
</pre></div>
</div>
<p>If make completes successfully, it will produce two static library files,
<code class="code docutils literal notranslate"><span class="pre">libscsdir.a</span></code>, <code class="code docutils literal notranslate"><span class="pre">libscsindir.a</span></code>, and two dynamic library files
<code class="code docutils literal notranslate"><span class="pre">libscsdir.ext</span></code>, <code class="code docutils literal notranslate"><span class="pre">libscsindir.ext</span></code> (where <code class="code docutils literal notranslate"><span class="pre">.ext</span></code> extension is
platform dependent) in the <code class="code docutils literal notranslate"><span class="pre">out</span></code> folder.</p>
<p>If <a class="reference external" href="https://www.intel.com/content/www/us/en/develop/documentation/get-started-with-mkl-for-dpcpp/top.html">MKL</a>
is installed in your system and the <code class="code docutils literal notranslate"><span class="pre">MKLROOT</span></code> environment variable is set,
then you can compile and test the <a class="reference internal" href="../linear_solver/index.html#mkl"><span class="std std-ref">MKL Pardiso</span></a> version of SCS using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>mkl
out/run_tests_mkl
</pre></div>
</div>
<p>This will produce static library <code class="code docutils literal notranslate"><span class="pre">libscsmkl.a</span></code> and dynamic library
<code class="code docutils literal notranslate"><span class="pre">libscsmkl.ext</span></code> (again <code class="code docutils literal notranslate"><span class="pre">.ext</span></code> is platform dependent) in the
<code class="code docutils literal notranslate"><span class="pre">out</span></code> folder.  (Note that the choice of MKL compiler flags might not be right
for your system and may need to be <a class="reference external" href="https://www.intel.com/content/www/us/en/developer/tools/oneapi/onemkl-link-line-advisor.html">modified</a>).</p>
<p>If you have a GPU and have CUDA installed, you can also execute make gpu to
compile SCS to run on the GPU which will create additional libraries and demo
binaries in the out folder corresponding to the GPU version.  Note that the GPU
(usually) requires 32 bit ints, which can be enforced by compiling with
<code class="code docutils literal notranslate"><span class="pre">DLONG=0</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>gpu<span class="w"> </span><span class="nv">DLONG</span><span class="o">=</span><span class="m">0</span>
out/run_tests_gpu_indirect
</pre></div>
</div>
<p>Finally, to compile and test the <a class="reference internal" href="../linear_solver/index.html#cudss"><span class="std std-ref">cuDSS solver</span></a> you need to have
CUDA toolkit, the <code class="code docutils literal notranslate"><span class="pre">nvcc</span></code> compiler, and
<a class="reference external" href="https://developer.nvidia.com/cudss">cuDSS</a> library installed.
Then set <code class="code docutils literal notranslate"><span class="pre">CUDA_PATH</span></code> and <code class="code docutils literal notranslate"><span class="pre">CUDSS_PATH</span></code> and execute</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>cudss<span class="w"> </span><span class="nv">DLONG</span><span class="o">=</span><span class="m">0</span>
out/run_tests_cudss
</pre></div>
</div>
<p>Currently cuDSS only supports 32 bit integers (for sparse matrix idicies) so
<code class="code docutils literal notranslate"><span class="pre">DLONG=0</span></code> is mandatory (see <a class="reference external" href="https://docs.nvidia.com/cuda/cudss/functions.html#cudssmatrixcreatecsr">the docs of cuDSS CSR matrix</a>).</p>
<p>To use the libraries in your own source code, compile your code with the linker
option <code class="code docutils literal notranslate"><span class="pre">-L(PATH_TO_SCS_LIBS)</span></code> and <code class="code docutils literal notranslate"><span class="pre">-lscsdir</span></code> or <code class="code docutils literal notranslate"><span class="pre">-lscsindir</span></code>
(as needed). The API and required data structures are defined in the file
<code class="code docutils literal notranslate"><span class="pre">include/scs.h</span></code> and documented <a class="reference internal" href="../api/c.html#c-interface"><span class="std std-ref">here</span></a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Install" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="python.html" class="btn btn-neutral float-right" title="Python" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Brendan O&#39;Donoghue.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9CY7R8S5N2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-9CY7R8S5N2', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>